/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 8);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/*!**************************!*\
  !*** external "express" ***!
  \**************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"express\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcImV4cHJlc3NcIj9kMmQyIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJleHByZXNzXCJcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/*!*************************!*\
  !*** ./server/redis.js ***!
  \*************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar redis = __webpack_require__(/*! redis */ 15);\nvar Promise = __webpack_require__(/*! bluebird */ 5);\n\nvar host = process.env.REDIS_HOST || 'localhost';\nvar port = process.env.REDIS_PORT || '6379';\nvar client = redis.createClient(port, host);\nvar get = Promise.promisify(client.get, { context: client, cancellation: true });\nvar set = Promise.promisify(client.set, { context: client, cancellation: true });\n\nclient.on(\"error\", function (err) {\n  console.log(\"Redis Error \" + err);\n});\n\nmodule.exports = {\n  get: get,\n  set: set\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zZXJ2ZXIvcmVkaXMuanM/ZmUzMCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZWRpcyA9IHJlcXVpcmUoJ3JlZGlzJyk7XG5jb25zdCBQcm9taXNlID0gcmVxdWlyZSgnYmx1ZWJpcmQnKTtcblxuY29uc3QgaG9zdCA9IHByb2Nlc3MuZW52LlJFRElTX0hPU1QgfHwgJ2xvY2FsaG9zdCc7XG5jb25zdCBwb3J0ID0gcHJvY2Vzcy5lbnYuUkVESVNfUE9SVCB8fCAnNjM3OSc7XG5jb25zdCBjbGllbnQgPSByZWRpcy5jcmVhdGVDbGllbnQocG9ydCwgaG9zdCk7XG5jb25zdCBnZXQgPSBQcm9taXNlLnByb21pc2lmeShjbGllbnQuZ2V0LCB7IGNvbnRleHQ6IGNsaWVudCwgY2FuY2VsbGF0aW9uOiB0cnVlIH0pO1xuY29uc3Qgc2V0ID0gUHJvbWlzZS5wcm9taXNpZnkoY2xpZW50LnNldCwgeyBjb250ZXh0OiBjbGllbnQsIGNhbmNlbGxhdGlvbjogdHJ1ZSB9KTtcblxuY2xpZW50Lm9uKFwiZXJyb3JcIiwgZnVuY3Rpb24gKGVycikge1xuICBjb25zb2xlLmxvZyhcIlJlZGlzIEVycm9yIFwiICsgZXJyKTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0OiBnZXQsXG4gIHNldDogc2V0XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNlcnZlci9yZWRpcy5qcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"path\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcInBhdGhcIj81YjJhIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInBhdGhcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJwYXRoXCJcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/*!***********************!*\
  !*** ./server/ssr.js ***!
  \***********************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _jsx = function () { var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7; return function createRawReactElement(type, props, key, children) { var defaultProps = type && type.defaultProps; var childrenLength = arguments.length - 3; if (!props && childrenLength !== 0) { props = {}; } if (props && defaultProps) { for (var propName in defaultProps) { if (props[propName] === void 0) { props[propName] = defaultProps[propName]; } } } else if (!props) { props = defaultProps || {}; } if (childrenLength === 1) { props.children = children; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 3]; } props.children = childArray; } return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: key === undefined ? null : '' + key, ref: null, props: props, _owner: null }; }; }();\n\nvar _react = __webpack_require__(/*! react */ 4);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _server = __webpack_require__(/*! react-dom/server */ 11);\n\nvar _App = __webpack_require__(/*! ../client/src/components/App.jsx */ 12);\n\nvar _App2 = _interopRequireDefault(_App);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar redis = __webpack_require__(/*! ./redis.js */ 1);\n\nvar query = __webpack_require__(/*! ./mysqlPool.js */ 6);\nvar databaseEngine = process.env.DATABASE_ENGINE || 'mysql';\nif (databaseEngine === 'cassandra') {\n  query = __webpack_require__(/*! ./cassandraPool.js */ 7);\n}\n\nmodule.exports = function (req, res, next, key, id, template) {\n  var iniState = {};\n  redis.get(key).then(function (data) {\n    if (data) {\n      res.send(data);\n      return;\n    } else {\n      return query('SELECT * FROM business WHERE id =' + id);\n    }\n  }).then(function (row) {\n    if (row === undefined) return;\n    if (databaseEngine === 'cassandra') {\n      row = row.rows;\n    }\n    iniState.business = row;\n    return query('SELECT * FROM business_reviews200 WHERE postal_code=\\'' + row[0].postal_code + '\\' LIMIT 4');\n  }).then(function (rows) {\n    if (rows === undefined) return;\n    if (databaseEngine === 'cassandra') {\n      rows = rows.rows;\n    }\n    iniState.business1 = rows[1];\n    iniState.business2 = rows[2];\n    iniState.business3 = rows[3];\n    iniState.loaded = true;\n    var body = (0, _server.renderToString)(_jsx(_App2.default, {\n      businessId: id,\n      initialState: JSON.parse(JSON.stringify(iniState))\n    }));\n    var html = template({\n      body: body,\n      initialState: JSON.stringify(iniState)\n    });\n    res.send(html);\n    return redis.set(key, html);\n  }).then(function () {}) // do nothing with redis set\n  .catch(function (err) {\n    console.log('Error ', err);\n    res.sendStatus(404);\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zZXJ2ZXIvc3NyLmpzPzg2NTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlclRvU3RyaW5nIH0gZnJvbSAncmVhY3QtZG9tL3NlcnZlcic7XG5pbXBvcnQgUmlnaHRCb3R0b21TaWRlYmFyIGZyb20gJy4uL2NsaWVudC9zcmMvY29tcG9uZW50cy9BcHAuanN4JztcbmNvbnN0IHJlZGlzID0gcmVxdWlyZSgnLi9yZWRpcy5qcycpO1xuXG5sZXQgcXVlcnkgPSByZXF1aXJlKCcuL215c3FsUG9vbC5qcycpO1xuY29uc3QgZGF0YWJhc2VFbmdpbmUgPSBwcm9jZXNzLmVudi5EQVRBQkFTRV9FTkdJTkUgfHwgJ215c3FsJztcbmlmIChkYXRhYmFzZUVuZ2luZSA9PT0gJ2Nhc3NhbmRyYScpIHtcbiAgcXVlcnkgPSByZXF1aXJlKCcuL2Nhc3NhbmRyYVBvb2wuanMnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCwga2V5LCBpZCwgdGVtcGxhdGUpIHtcbiAgbGV0IGluaVN0YXRlID0ge307XG4gIHJlZGlzLmdldChrZXkpXG4gICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICByZXMuc2VuZChkYXRhKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHF1ZXJ5KGBTRUxFQ1QgKiBGUk9NIGJ1c2luZXNzIFdIRVJFIGlkID0ke2lkfWApO1xuICAgICAgfVxuICAgIH0pXG4gICAgLnRoZW4ocm93ID0+IHtcbiAgICAgIGlmIChyb3cgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgaWYgKGRhdGFiYXNlRW5naW5lID09PSAnY2Fzc2FuZHJhJykge1xuICAgICAgICByb3cgPSByb3cucm93cztcbiAgICAgIH1cbiAgICAgIGluaVN0YXRlLmJ1c2luZXNzID0gcm93O1xuICAgICAgcmV0dXJuIHF1ZXJ5KGBTRUxFQ1QgKiBGUk9NIGJ1c2luZXNzX3Jldmlld3MyMDAgV0hFUkUgcG9zdGFsX2NvZGU9JyR7cm93WzBdLnBvc3RhbF9jb2RlfScgTElNSVQgNGApO1xuICAgIH0pXG4gICAgLnRoZW4ocm93cyA9PiB7XG4gICAgICBpZiAocm93cyA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICBpZiAoZGF0YWJhc2VFbmdpbmUgPT09ICdjYXNzYW5kcmEnKSB7XG4gICAgICAgIHJvd3MgPSByb3dzLnJvd3M7XG4gICAgICB9XG4gICAgICBpbmlTdGF0ZS5idXNpbmVzczEgPSByb3dzWzFdO1xuICAgICAgaW5pU3RhdGUuYnVzaW5lc3MyID0gcm93c1syXTtcbiAgICAgIGluaVN0YXRlLmJ1c2luZXNzMyA9IHJvd3NbM107XG4gICAgICBpbmlTdGF0ZS5sb2FkZWQgPSB0cnVlO1xuICAgICAgY29uc3QgYm9keSA9IHJlbmRlclRvU3RyaW5nKDxSaWdodEJvdHRvbVNpZGViYXIgYnVzaW5lc3NJZD17aWR9IGluaXRpYWxTdGF0ZT17SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShpbmlTdGF0ZSkpfT48L1JpZ2h0Qm90dG9tU2lkZWJhcj4pO1xuICAgICAgbGV0IGh0bWwgPSB0ZW1wbGF0ZSh7XG4gICAgICAgIGJvZHk6IGJvZHksXG4gICAgICAgIGluaXRpYWxTdGF0ZTogSlNPTi5zdHJpbmdpZnkoaW5pU3RhdGUpXG4gICAgICB9KTtcbiAgICAgIHJlcy5zZW5kKGh0bWwpO1xuICAgICAgcmV0dXJuIHJlZGlzLnNldChrZXksIGh0bWwpO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4geyB9KSAvLyBkbyBub3RoaW5nIHdpdGggcmVkaXMgc2V0XG4gICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnRXJyb3IgJywgZXJyKTtcbiAgICAgIHJlcy5zZW5kU3RhdHVzKDQwNCk7XG4gICAgfSk7XG59O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzZXJ2ZXIvc3NyLmpzIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQWpDQTtBQW9DQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/*!************************!*\
  !*** external "react" ***!
  \************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"react\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcInJlYWN0XCI/M2M2MiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcInJlYWN0XCJcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/*!***************************!*\
  !*** external "bluebird" ***!
  \***************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"bluebird\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcImJsdWViaXJkXCI/ZmIzZSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJibHVlYmlyZFwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImJsdWViaXJkXCJcbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */
/*!*****************************!*\
  !*** ./server/mysqlPool.js ***!
  \*****************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n// const mysql = require('mysql');\nvar Promise = __webpack_require__(/*! bluebird */ 5);\nvar mysql = __webpack_require__(/*! promise-mysql */ 16);\nvar redis = __webpack_require__(/*! ./redis.js */ 1);\nvar databaseHost = process.env.DATABASE_HOST || 'localhost';\nvar databasePort = process.env.DATABASE_PORT || 3306;\n\nvar pool = mysql.createPool({\n  connectionLimit: 140,\n  host: databaseHost,\n  port: databasePort,\n  user: 'chompy',\n  database: 'chompy',\n  password: 'Chompy4&!database',\n  debug: false\n});\n\nvar executeQuery = function executeQuery(q) {\n  return pool.query(q).then(function (rows) {\n    return rows;\n  }).catch(function (err) {\n    console.log('Error: ', err);\n    res.sendStatus(500);\n  });\n};\n\nvar executeQueryWithCache = function executeQueryWithCache(q, key) {\n  if (key) {\n    var needToCache = false;\n    return redis.get(key).then(function (data) {\n      if (data) {\n        return JSON.parse(data);\n      } else {\n        needToCache = true;\n        return executeQuery(q);\n      }\n    }).then(function (rows) {\n      if (needToCache) {\n        Promise.resolve(redis.set(key, JSON.stringify(rows)));\n      }\n      return rows;\n    }).catch(function (err) {\n      console.log('Error ', err);\n    });\n  } else {\n    return executeQuery(q);\n  }\n};\n\nvar isCached = process.env.CACHE || 'redis';\nvar query = executeQueryWithCache;\nif (isCached === 'none') {\n  query = executeQuery;\n}\n\nmodule.exports = query;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zZXJ2ZXIvbXlzcWxQb29sLmpzP2QxODgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gY29uc3QgbXlzcWwgPSByZXF1aXJlKCdteXNxbCcpO1xuY29uc3QgUHJvbWlzZSA9IHJlcXVpcmUoJ2JsdWViaXJkJyk7XG5jb25zdCBteXNxbCA9IHJlcXVpcmUoJ3Byb21pc2UtbXlzcWwnKTtcbmNvbnN0IHJlZGlzID0gcmVxdWlyZSgnLi9yZWRpcy5qcycpO1xuY29uc3QgZGF0YWJhc2VIb3N0ID0gcHJvY2Vzcy5lbnYuREFUQUJBU0VfSE9TVCB8fCAnbG9jYWxob3N0JztcbmNvbnN0IGRhdGFiYXNlUG9ydCA9IHByb2Nlc3MuZW52LkRBVEFCQVNFX1BPUlQgfHwgMzMwNjtcblxuY29uc3QgcG9vbCA9IG15c3FsLmNyZWF0ZVBvb2woe1xuICBjb25uZWN0aW9uTGltaXQ6IDE0MCxcbiAgaG9zdDogZGF0YWJhc2VIb3N0LFxuICBwb3J0OiBkYXRhYmFzZVBvcnQsXG4gIHVzZXI6ICdjaG9tcHknLFxuICBkYXRhYmFzZTogJ2Nob21weScsXG4gIHBhc3N3b3JkOiAnQ2hvbXB5NCYhZGF0YWJhc2UnLFxuICBkZWJ1ZzogZmFsc2Vcbn0pO1xuXG5jb25zdCBleGVjdXRlUXVlcnkgPSBxID0+IHtcbiAgcmV0dXJuIHBvb2wucXVlcnkocSkudGhlbihyb3dzID0+IHtcbiAgICByZXR1cm4gcm93cztcbiAgfSlcbiAgLmNhdGNoKGVyciA9PiB7XG4gICAgY29uc29sZS5sb2coJ0Vycm9yOiAnLCBlcnIpO1xuICAgIHJlcy5zZW5kU3RhdHVzKDUwMCk7XG4gIH0pO1xufTtcblxuY29uc3QgZXhlY3V0ZVF1ZXJ5V2l0aENhY2hlID0gKHEsIGtleSkgPT4ge1xuICBpZiAoa2V5KSB7XG4gICAgbGV0IG5lZWRUb0NhY2hlID0gZmFsc2U7XG4gICAgcmV0dXJuIHJlZGlzLmdldChrZXkpXG4gICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5lZWRUb0NhY2hlID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGV4ZWN1dGVRdWVyeShxKTtcbiAgICAgIH1cbiAgICB9KVxuICAgIC50aGVuKHJvd3MgPT4ge1xuICAgICAgaWYgKG5lZWRUb0NhY2hlKSB7XG4gICAgICAgIFByb21pc2UucmVzb2x2ZShyZWRpcy5zZXQoa2V5LCBKU09OLnN0cmluZ2lmeShyb3dzKSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJvd3M7XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdFcnJvciAnLCBlcnIpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBleGVjdXRlUXVlcnkocSk7XG4gIH1cbn07XG5cbmNvbnN0IGlzQ2FjaGVkID0gcHJvY2Vzcy5lbnYuQ0FDSEUgfHwgJ3JlZGlzJztcbmxldCBxdWVyeSA9IGV4ZWN1dGVRdWVyeVdpdGhDYWNoZTtcbmlmIChpc0NhY2hlZCA9PT0gJ25vbmUnKSB7XG4gIHF1ZXJ5ID0gZXhlY3V0ZVF1ZXJ5O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHF1ZXJ5O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzZXJ2ZXIvbXlzcWxQb29sLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6\n");

/***/ }),
/* 7 */
/*!*********************************!*\
  !*** ./server/cassandraPool.js ***!
  \*********************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _coreConnectionsPerHo;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar cassandra = __webpack_require__(/*! cassandra-driver */ 17);\nvar distance = cassandra.types.distance;\nvar redis = __webpack_require__(/*! ./redis.js */ 1);\n\n//Connect to the cluster\nvar client = new cassandra.Client({\n  contactPoints: ['127.0.0.1'],\n  keyspace: 'chompy',\n  pooling: {\n    coreConnectionsPerHost: (_coreConnectionsPerHo = {}, _defineProperty(_coreConnectionsPerHo, distance.local, 10), _defineProperty(_coreConnectionsPerHo, distance.remote, 1), _coreConnectionsPerHo)\n  }\n});\n\nvar executeQuery = function executeQuery(q) {\n  return client.execute(q, []);\n};\n\nvar executeQueryWithCache = function executeQueryWithCache(q, key) {\n  if (key) {\n    var needToCache = false;\n    return redis.get(key).then(function (data) {\n      if (data) {\n        return JSON.parse(data);\n      } else {\n        needToCache = true;\n        return executeQuery(q);\n      }\n    }).then(function (rows) {\n      if (needToCache) {\n        Promise.resolve(redis.set(key, JSON.stringify(rows)));\n      }\n      return rows;\n    }).catch(function (err) {\n      console.log('Error ', err);\n    });\n  } else {\n    return executeQuery(q);\n  }\n};\n\nvar isCached = process.env.CACHE || 'redis';\nvar query = executeQueryWithCache;\nif (isCached === 'none') {\n  query = executeQuerye;\n}\n\nmodule.exports = query;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zZXJ2ZXIvY2Fzc2FuZHJhUG9vbC5qcz85ZjM4Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNhc3NhbmRyYSA9IHJlcXVpcmUoJ2Nhc3NhbmRyYS1kcml2ZXInKTtcbmNvbnN0IGRpc3RhbmNlID0gY2Fzc2FuZHJhLnR5cGVzLmRpc3RhbmNlO1xuY29uc3QgcmVkaXMgPSByZXF1aXJlKCcuL3JlZGlzLmpzJyk7XG5cbiAvL0Nvbm5lY3QgdG8gdGhlIGNsdXN0ZXJcbmNvbnN0IGNsaWVudCA9IG5ldyBjYXNzYW5kcmEuQ2xpZW50KHtcbiAgY29udGFjdFBvaW50czogWycxMjcuMC4wLjEnXSwgXG4gIGtleXNwYWNlOiAnY2hvbXB5JyxcbiAgcG9vbGluZzoge1xuICAgIGNvcmVDb25uZWN0aW9uc1Blckhvc3Q6IHtcbiAgICAgIFtkaXN0YW5jZS5sb2NhbF06IDEwLFxuICAgICAgW2Rpc3RhbmNlLnJlbW90ZV06IDFcbiAgICB9XG4gIH1cbn0pO1xuXG5jb25zdCBleGVjdXRlUXVlcnkgPSBxID0+IGNsaWVudC5leGVjdXRlKHEsIFtdKTtcblxuY29uc3QgZXhlY3V0ZVF1ZXJ5V2l0aENhY2hlID0gKHEsIGtleSkgPT4ge1xuICBpZiAoa2V5KSB7XG4gICAgbGV0IG5lZWRUb0NhY2hlID0gZmFsc2U7XG4gICAgcmV0dXJuIHJlZGlzLmdldChrZXkpXG4gICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZWVkVG9DYWNoZSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIGV4ZWN1dGVRdWVyeShxKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC50aGVuKHJvd3MgPT4ge1xuICAgICAgICBpZiAobmVlZFRvQ2FjaGUpIHtcbiAgICAgICAgICBQcm9taXNlLnJlc29sdmUocmVkaXMuc2V0KGtleSwgSlNPTi5zdHJpbmdpZnkocm93cykpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcm93cztcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yICcsIGVycik7XG4gICAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZXhlY3V0ZVF1ZXJ5KHEpO1xuICB9XG59O1xuXG5jb25zdCBpc0NhY2hlZCA9IHByb2Nlc3MuZW52LkNBQ0hFIHx8ICdyZWRpcyc7XG5sZXQgcXVlcnkgPSBleGVjdXRlUXVlcnlXaXRoQ2FjaGU7XG5pZiAoaXNDYWNoZWQgPT09ICdub25lJykge1xuICBxdWVyeSA9IGV4ZWN1dGVRdWVyeWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcXVlcnk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNlcnZlci9jYXNzYW5kcmFQb29sLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBSEE7QUFDQTtBQVVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7\n");

/***/ }),
/* 8 */
/*!**************************!*\
  !*** ./server/server.js ***!
  \**************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n// require('newrelic');\nvar app = __webpack_require__(/*! ./app.js */ 9);\nvar databaseEngine = process.env.DATABASE_ENGINE || 'mysql';\nvar port = process.env.PORT || 3010;\n\napp.listen(port, function () {\n  return console.log('Express using database ' + databaseEngine + ' listening on port ' + port);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zZXJ2ZXIvc2VydmVyLmpzP2VhNzUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcmVxdWlyZSgnbmV3cmVsaWMnKTtcbmNvbnN0IGFwcCA9IHJlcXVpcmUoJy4vYXBwLmpzJyk7XG5jb25zdCBkYXRhYmFzZUVuZ2luZSA9IHByb2Nlc3MuZW52LkRBVEFCQVNFX0VOR0lORSB8fCAnbXlzcWwnO1xuY29uc3QgcG9ydCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgMzAxMDtcblxuYXBwLmxpc3Rlbihwb3J0LCAoKSA9PiBjb25zb2xlLmxvZyhgRXhwcmVzcyB1c2luZyBkYXRhYmFzZSAke2RhdGFiYXNlRW5naW5lfSBsaXN0ZW5pbmcgb24gcG9ydCAke3BvcnR9YCkpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNlcnZlci9zZXJ2ZXIuanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8\n");

/***/ }),
/* 9 */
/*!***********************!*\
  !*** ./server/app.js ***!
  \***********************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar express = __webpack_require__(/*! express */ 0);\nvar path = __webpack_require__(/*! path */ 2);\n// const bodyParser = require('body-parser');\nvar mainRouter = __webpack_require__(/*! ./main-router.js */ 10);\nvar sidebarRouter = __webpack_require__(/*! ./sidebar-router.js */ 19);\n// const morgan = require('morgan');\n\nvar app = express();\n\n// app.use(morgan('dev'));\n// app.use(bodyParser.json());\n// app.use(bodyParser.urlencoded({extended: true}));\napp.use(function (req, res, next) {\n  res.set('Access-Control-Allow-Origin', '*');\n  res.set('Access-Control-Allow-Headers', 'Origin, X-Requested-With, X-Parse-Application-Id, X-Parse-REST-API-Key, Content-Type, Accept');\n  res.set('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, OPTIONS');\n  next();\n});\napp.use(express.static(path.resolve('public')));\napp.use('/main', mainRouter);\napp.use('/api/sidebar', sidebarRouter);\n\napp.get('/', function (req, res, next) {\n  return res.sendFile('index.html', { root: path.resolve('public') });\n});\n\napp.get('*', function (req, res, next) {\n  return res.sendStatus(404);\n});\napp.use(function (err, req, res, next) {\n  return res.sendStatus(500);\n});\n\nmodule.exports = app;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zZXJ2ZXIvYXBwLmpzPzllNGEiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG4vLyBjb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTtcbmNvbnN0IG1haW5Sb3V0ZXIgPSByZXF1aXJlKCcuL21haW4tcm91dGVyLmpzJyk7XG5jb25zdCBzaWRlYmFyUm91dGVyID0gcmVxdWlyZSgnLi9zaWRlYmFyLXJvdXRlci5qcycpO1xuLy8gY29uc3QgbW9yZ2FuID0gcmVxdWlyZSgnbW9yZ2FuJyk7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxuLy8gYXBwLnVzZShtb3JnYW4oJ2RldicpKTtcbi8vIGFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuLy8gYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoe2V4dGVuZGVkOiB0cnVlfSkpO1xuYXBwLnVzZSgocmVxLCByZXMsIG5leHQpID0+IHtcbiAgcmVzLnNldCgnQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJyonKTtcbiAgcmVzLnNldCgnQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICdPcmlnaW4sIFgtUmVxdWVzdGVkLVdpdGgsIFgtUGFyc2UtQXBwbGljYXRpb24tSWQsIFgtUGFyc2UtUkVTVC1BUEktS2V5LCBDb250ZW50LVR5cGUsIEFjY2VwdCcpO1xuICByZXMuc2V0KCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJywgJ0dFVCwgUE9TVCwgUFVULCBERUxFVEUsIE9QVElPTlMnKTtcbiAgbmV4dCgpO1xufSk7XG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGgucmVzb2x2ZSgncHVibGljJykpKTtcbmFwcC51c2UoJy9tYWluJywgbWFpblJvdXRlcik7XG5hcHAudXNlKCcvYXBpL3NpZGViYXInLCBzaWRlYmFyUm91dGVyKTtcblxuYXBwLmdldCgnLycsIChyZXEsIHJlcywgbmV4dCkgPT4gcmVzLnNlbmRGaWxlKCdpbmRleC5odG1sJywge3Jvb3Q6IHBhdGgucmVzb2x2ZSgncHVibGljJyl9KSk7XG5cbmFwcC5nZXQoJyonLCAocmVxLCByZXMsIG5leHQpID0+IHJlcy5zZW5kU3RhdHVzKDQwNCkpO1xuYXBwLnVzZSgoZXJyLCByZXEsIHJlcywgbmV4dCkgPT4gcmVzLnNlbmRTdGF0dXMoNTAwKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gYXBwO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNlcnZlci9hcHAuanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9\n");

/***/ }),
/* 10 */
/*!*******************************!*\
  !*** ./server/main-router.js ***!
  \*******************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar express = __webpack_require__(/*! express */ 0);\nvar path = __webpack_require__(/*! path */ 2);\nvar ssr = __webpack_require__(/*! ./ssr.js */ 3);\nvar Html = __webpack_require__(/*! ./Html */ 18);\nvar router = express.Router();\n\nrouter.route('/ssr/:id').get(function (req, res, next) {\n  var id = ParseInt(req.params.id);\n  if (id > 1) {\n    ssr(req, res, next, 'SSR_' + id, id, Html);\n  } else {\n    res.sendStatus(404);\n  }\n}).options(function (req, res) {\n  res.sendStatus(200);\n});\n\nrouter.route('/:id').get(function (req, res, next) {\n  return res.sendFile('index.html', { root: path.resolve('public') });\n}).options(function (req, res) {\n  res.sendStatus(200);\n});\n\nmodule.exports = router;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc2VydmVyL21haW4tcm91dGVyLmpzPzI5YzgiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5jb25zdCBzc3IgPSByZXF1aXJlKCcuL3Nzci5qcycpO1xuY29uc3QgSHRtbCA9IHJlcXVpcmUoJy4vSHRtbCcpO1xuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLnJvdXRlKCcvc3NyLzppZCcpXG4gIC5nZXQoKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgbGV0IGlkID0gUGFyc2VJbnQocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKGlkID4gMSkge1xuICAgICAgc3NyKHJlcSwgcmVzLCBuZXh0LCAnU1NSXycgKyBpZCwgaWQsIEh0bWwpOyBcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnNlbmRTdGF0dXMoNDA0KTtcbiAgICB9XG4gIH0pXG4gIC5vcHRpb25zKChyZXEsIHJlcykgPT4ge1xuICAgIHJlcy5zZW5kU3RhdHVzKDIwMCk7XG4gIH0pO1xuXG5yb3V0ZXIucm91dGUoJy86aWQnKVxuICAuZ2V0KChyZXEsIHJlcywgbmV4dCkgPT4gXG4gICAgcmVzLnNlbmRGaWxlKCdpbmRleC5odG1sJywgeyByb290OiBwYXRoLnJlc29sdmUoJ3B1YmxpYycpIH0pXG4gIClcbiAgLm9wdGlvbnMoKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLnNlbmRTdGF0dXMoMjAwKTtcbiAgfSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzZXJ2ZXIvbWFpbi1yb3V0ZXIuanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///10\n");

/***/ }),
/* 11 */
/*!***********************************!*\
  !*** external "react-dom/server" ***!
  \***********************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"react-dom/server\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWFjdC1kb20vc2VydmVyXCI/NDFiZCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdC1kb20vc2VydmVyXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwicmVhY3QtZG9tL3NlcnZlclwiXG4vLyBtb2R1bGUgaWQgPSAxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///11\n");

/***/ }),
/* 12 */
/*!***************************************!*\
  !*** ./client/src/components/App.jsx ***!
  \***************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _jsx = function () { var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7; return function createRawReactElement(type, props, key, children) { var defaultProps = type && type.defaultProps; var childrenLength = arguments.length - 3; if (!props && childrenLength !== 0) { props = {}; } if (props && defaultProps) { for (var propName in defaultProps) { if (props[propName] === void 0) { props[propName] = defaultProps[propName]; } } } else if (!props) { props = defaultProps || {}; } if (childrenLength === 1) { props.children = children; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 3]; } props.children = childArray; } return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: key === undefined ? null : '' + key, ref: null, props: props, _owner: null }; }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(/*! react */ 4);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(/*! react-dom */ 13);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _axios = __webpack_require__(/*! axios */ 14);\n\nvar _axios2 = _interopRequireDefault(_axios);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _ref = _jsx(\"h2\", {\n  className: \"rightsb_subheader\"\n}, void 0, \"People Also Viewed\");\n\nvar _ref2 = _jsx(\"h3\", {\n  className: \"rightsb_subheader\"\n}, void 0, \"Other Places Nearby\");\n\nvar _ref3 = _jsx(\"div\", {\n  className: \"rightsb_browse-nearby\"\n}, void 0, _jsx(\"h3\", {\n  className: \"rightsb_subheader\"\n}, void 0, \"Browse Nearby\"), _jsx(\"ul\", {\n  className: \"rightsb_list\"\n}, void 0, _jsx(\"li\", {}, void 0, _jsx(\"a\", {}, void 0, _jsx(\"span\", {\n  className: \"rightsb_static-icon\"\n}, void 0, _jsx(\"img\", {\n  className: \"rightsb_icon\",\n  src: \"https://i.imgur.com/YVTtcKY.png/120.jpg\"\n}), \"  \"), _jsx(\"span\", {\n  className: \"rightsb_browse-list\"\n}, void 0, \"Restaurants\"))), _jsx(\"li\", {}, void 0, \" \", _jsx(\"a\", {}, void 0, _jsx(\"span\", {\n  className: \"rightsb_static-icon\"\n}, void 0, _jsx(\"img\", {\n  className: \"rightsb_icon\",\n  src: \"https://i.imgur.com/f3RdwOP.png/120.jpg\"\n}), \"  \"), _jsx(\"span\", {\n  className: \"rightsb_browse-list\"\n}, void 0, \"Nightlife\"))), _jsx(\"li\", {}, void 0, _jsx(\"a\", {}, void 0, _jsx(\"span\", {\n  className: \"rightsb_static-icon\"\n}, void 0, _jsx(\"img\", {\n  className: \"rightsb_icon\",\n  src: \"https://i.imgur.com/2sYyjqj.jpg/120.jpg\"\n}), \"  \"), _jsx(\"span\", {\n  className: \"rightsb_browse-list\"\n}, void 0, \"Shopping\"))), _jsx(\"li\", {}, void 0, _jsx(\"a\", {}, void 0, _jsx(\"span\", {\n  className: \"rightsb_static-icon\"\n}, void 0, _jsx(\"img\", {\n  className: \"rightsb_icon\",\n  src: \"https://i.imgur.com/aAnrFk2.png/120.jpg\"\n}), \"  \"), _jsx(\"span\", {\n  className: \"rightsb_browse-list\"\n}, void 0, \"Show All\")))));\n\nvar _ref4 = _jsx(\"li\", {}, void 0, _jsx(\"a\", {}, void 0, _jsx(\"span\", {\n  className: \"rightsb_static-icon\"\n}, void 0, _jsx(\"img\", {\n  className: \"rightsb_icon\",\n  src: \"https://i.imgur.com/rAokCAc.jpg/120.jpg\"\n}), \"  \"), _jsx(\"span\", {\n  className: \"rightsb_dining-list\"\n}, void 0, \"Search for Reservations\")));\n\nvar _ref5 = _jsx(\"a\", {}, void 0, _jsx(\"span\", {\n  className: \"rightsb_static-icon\"\n}, void 0, _jsx(\"img\", {\n  className: \"rightsb_icon\",\n  src: \"https://i.imgur.com/gc2EsDX.png/120.jpg\"\n}), \"  \"));\n\nvar _ref6 = _jsx(\"h2\", {\n  className: \"rightsb_subheader\"\n}, void 0, \"Near Me\");\n\nvar _ref7 = _jsx(\"p\", {\n  className: \"rightsb_nearme-list\"\n}, void 0, \"Dinner\");\n\nvar _ref8 = _jsx(\"p\", {\n  className: \"rightsb_nearme-list\"\n}, void 0, \"Lunch\");\n\nvar _ref9 = _jsx(\"p\", {\n  className: \"rightsb_nearme-list\"\n}, void 0, \"Breakfast\");\n\nvar App = function (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App(props) {\n    _classCallCheck(this, App);\n\n    var _this = _possibleConstructorReturn(this, (App.__proto__ || Object.getPrototypeOf(App)).call(this, props));\n\n    _this.id = props.businessId;\n    _this.initialState = props.initialState;\n    if (props.initialState && props.initialState.loaded) {\n      _this.state = {\n        business: props.initialState.business,\n        postalCode: props.initialState.postal_code,\n        matchBiz1: props.initialState.business1,\n        matchBiz2: props.initialState.business2,\n        matchBiz3: props.initialState.business3,\n        tip1: props.initialState.business1 && props.initialState.business1.tip_text,\n        tip2: props.initialState.business2 && props.initialState.business2.tip_text,\n        tip3: props.initialState.business3 && props.initialState.business3.tip_text,\n        photo1: props.initialState.business1 && props.initialState.business1.encoded_photo,\n        photo2: props.initialState.business2 && props.initialState.business2.encoded_photo,\n        photo3: props.initialState.business3 && props.initialState.business3.encoded_photo,\n        starRating1: props.initialState.business1 && _this.getStars(props.initialState.business1.stars),\n        starRating2: props.initialState.business2 && _this.getStars(props.initialState.business2.stars),\n        starRating3: props.initialState.business3 && _this.getStars(props.initialState.business3.stars)\n      };\n    } else {\n      _this.state = {\n        business: [{}],\n        postalCode: Number,\n        matchBiz1: [{}],\n        matchBiz2: [{}],\n        matchBiz3: [{}],\n        tip1: null,\n        tip2: null,\n        tip3: null,\n        photo1: null,\n        photo2: null,\n        photo3: null,\n        starRating1: null,\n        starRating2: null,\n        starRating3: null\n      };\n    }\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (!this.props.initialState || !this.props.initialState.loaded) {\n        _axios2.default.get(\"/api/sidebar/business/\" + this.id).then(function (response) {\n          _this2.setState({ business: response.data });\n        }).then(function () {\n          var postalCode = _this2.state.business[0].postal_code;\n          var bizId = _this2.state.business[0].id;\n          _this2.setState({ postalCode: postalCode });\n          _this2.fetchSuggestedBusiness(postalCode);\n        }).catch(function (err) {\n          console.log(err, \"this is the error in the componentDidMount\");\n        });\n      }\n    }\n  }, {\n    key: \"fetchSuggestedBusiness\",\n    value: function fetchSuggestedBusiness(postalCode) {\n      var _this3 = this;\n\n      _axios2.default.get(\"/api/sidebar/postalCode/\" + postalCode).then(function (response) {\n        var biz1 = response.data[1];\n        var biz2 = response.data[2];\n        var biz3 = response.data[3];\n        _this3.setState({\n          matchBiz1: biz1,\n          matchBiz2: biz2,\n          matchBiz3: biz3,\n          tip1: biz1 && biz1.tip_text,\n          tip2: biz2 && biz2.tip_text,\n          tip3: biz3 && biz3.tip_text,\n          photo1: biz1 && biz1.encoded_photo,\n          photo2: biz2 && biz2.encoded_photo,\n          photo3: biz3 && biz3.encoded_photo,\n          starRating1: biz1 && _this3.getStars(biz1.stars),\n          starRating2: biz2 && _this3.getStars(biz2.stars),\n          starRating3: biz3 && _this3.getStars(biz3.stars)\n        });\n      }).catch(function (err) {\n        console.log(err, \"error fetch postalCode axios\");\n      });\n    }\n  }, {\n    key: \"getStars\",\n    value: function getStars(stars) {\n      if (stars === 1) {\n        return 'https://i.imgur.com/joRV605.png';\n      } else if (stars === 1.5) {\n        return 'https://i.imgur.com/fqHSmyz.png';\n      } else if (stars === 2) {\n        return 'https://i.imgur.com/GsBh9O5.png';\n      } else if (stars === 2.5) {\n        return 'https://i.imgur.com/HHk4ca7.png';\n      } else if (stars === 3) {\n        return 'https://i.imgur.com/eXa2t1X.png';\n      } else if (stars === 3.5) {\n        return 'https://i.imgur.com/nDcH9au.png';\n      } else if (stars === 4) {\n        return 'https://i.imgur.com/v2Ep8kQ.png';\n      } else if (stars === 4.5) {\n        return 'https://i.imgur.com/e2b0NN4.png';\n      } else if (stars === 5) {\n        return 'https://i.imgur.com/327Fh6y.png';\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _jsx(\"div\", {\n        className: \"rightsb_page\"\n      }, void 0, _jsx(\"div\", {\n        className: \"rightsb_relatedBusinesses\"\n      }, void 0, _ref, _jsx(\"ul\", {\n        className: \"rightsb_list\"\n      }, void 0, _jsx(\"li\", {\n        className: \"rightsb_business-list\"\n      }, void 0, _jsx(\"div\", {\n        className: \"rightsb_media-block\"\n      }, void 0, _jsx(\"div\", {\n        className: \"rightsb_media-avatar\"\n      }, void 0, _jsx(\"div\", {\n        className: \"rightsb_image_box\"\n      }, void 0, _jsx(\"img\", {\n        className: \"rightsb_image_biz\",\n        src: \"data:image/jpeg;base64, \" + this.state.photo1\n      }))), _jsx(\"div\", {\n        className: \"rightsb_media-story\"\n      }, void 0, _jsx(\"div\", {\n        className: \"rightsb_media-title\"\n      }, void 0, this.state.matchBiz1 && this.state.matchBiz1.name), _jsx(\"div\", {\n        className: \"rightsb_bizrating\"\n      }, void 0, _jsx(\"div\", {\n        className: \"rightsb_star-rating\"\n      }, void 0, _jsx(\"img\", {\n        className: \"rightsb_stars\",\n        src: this.state.starRating1\n      })), _jsx(\"span\", {\n        className: \"rightsb_review-count\"\n      }, void 0, this.state.matchBiz1 ? this.state.matchBiz1.review_count : 0, \" reviews\")), _jsx(\"q\", {\n        className: \"rightsb_tips\"\n      }, void 0, this.state.tip1)))), _jsx(\"li\", {\n        className: \"rightsb_business-list\"\n      }, void 0, _jsx(\"div\", {\n        className: \"rightsb_media-block\"\n      }, void 0, _jsx(\"div\", {\n        className: \"rightsb_media-avatar\"\n      }, void 0, _jsx(\"div\", {\n        className: \"rightsb_image_box\"\n      }, void 0, _jsx(\"img\", {\n        className: \"rightsb_image_biz\",\n        src: \"data:image/jpeg;base64, \" + this.state.photo2\n      }))), _jsx(\"div\", {\n        className: \"rightsb_media-story\"\n      }, void 0, _jsx(\"div\", {\n        className: \"rightsb_media-title\"\n      }, void 0, this.state.matchBiz2 && this.state.matchBiz2.name), _jsx(\"div\", {\n        className: \"rightsb_bizrating\"\n      }, void 0, _jsx(\"div\", {\n        className: \"rightsb_star-rating\"\n      }, void 0, _jsx(\"img\", {\n        className: \"rightsb_stars\",\n        src: this.state.starRating2\n      })), _jsx(\"span\", {\n        className: \"rightsb_review-count\"\n      }, void 0, this.state.matchBiz2 ? this.state.matchBiz2.review_count : 0, \" reviews\")), _jsx(\"q\", {\n        className: \"rightsb_tips\"\n      }, void 0, this.state.tip2)))), _jsx(\"li\", {\n        className: \"rightsb_business-list\"\n      }, void 0, _jsx(\"div\", {\n        className: \"rightsb_media-block\"\n      }, void 0, _jsx(\"div\", {\n        className: \"rightsb_media-avatar\"\n      }, void 0, _jsx(\"div\", {\n        className: \"rightsb_image_box\"\n      }, void 0, _jsx(\"img\", {\n        className: \"rightsb_image_biz\",\n        src: \"data:image/jpeg;base64, \" + this.state.photo3\n      }))), _jsx(\"div\", {\n        className: \"rightsb_media-story\"\n      }, void 0, _jsx(\"div\", {\n        className: \"rightsb_media-title\"\n      }, void 0, this.state.matchBiz3 && this.state.matchBiz3.name), _jsx(\"div\", {\n        className: \"rightsb_bizrating\"\n      }, void 0, _jsx(\"div\", {\n        className: \"rightsb_star-rating\"\n      }, void 0, _jsx(\"img\", {\n        className: \"rightsb_stars\",\n        src: this.state.starRating3\n      })), _jsx(\"span\", {\n        className: \"rightsb_review-count\"\n      }, void 0, this.state.matchBiz3 ? this.state.matchBiz3.review_count : 0, \" reviews\")), _jsx(\"q\", {\n        className: \"rightsb_tips\"\n      }, void 0, this.state.tip3))))), _jsx(\"div\", {\n        className: \"rightsb_other-places-nearby\"\n      }, void 0, _ref2, _jsx(\"ul\", {\n        className: \"rightsb_list\"\n      }, void 0, _jsx(\"li\", {\n        className: \"rightsb_other-list-item\"\n      }, void 0, _jsx(\"a\", {\n        className: \"rightsb_other-list-item-arrange\"\n      }, void 0, \"Find more Places Near \", this.state.business[0].name)), _jsx(\"li\", {\n        className: \"rightsb_other-list-item\"\n      }, void 0, _jsx(\"a\", {\n        className: \"rightsb_other-list-item-arrange\"\n      }, void 0, \"Find more Lunch Near \", this.state.business[0].name)), _jsx(\"li\", {\n        className: \"rightsb_other-list-item\"\n      }, void 0, _jsx(\"a\", {\n        className: \"rightsb_other-list-item-arrange\"\n      }, void 0, \"Find more Dinner Near \", this.state.business[0].name)))), _ref3, _jsx(\"div\", {}, void 0, _jsx(\"h3\", {\n        className: \"rightsb_subheader\"\n      }, void 0, \"Dining in \", this.state.business[0].city), _jsx(\"ul\", {\n        className: \"rightsb_list\"\n      }, void 0, _ref4, _jsx(\"li\", {}, void 0, _ref5, _jsx(\"span\", {\n        className: \"rightsb_dining-list\"\n      }, void 0, \"Book a table in \", this.state.business[0].city)))), _jsx(\"h2\", {\n        className: \"rightsb_subheader\"\n      }, void 0, \"Best of \", this.state.business[0].city), _jsx(\"p\", {\n        className: \"rightsb_bestof-list\"\n      }, void 0, \"Things to do in \", this.state.business[0].city), _jsx(\"h2\", {\n        className: \"rightsb_subheader\"\n      }, void 0, \"People found \", this.state.business[0].name, \" by searching for...\"), _jsx(\"p\", {\n        className: \"rightsb_peoplefound-list\"\n      }, void 0, \"Food \", this.state.business[0].city), _ref6, _ref7, _ref8, _ref9));\n    }\n  }]);\n\n  return App;\n}(_react2.default.Component);\n\nexports.default = App;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vY2xpZW50L3NyYy9jb21wb25lbnRzL0FwcC5qc3g/YThiMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiO1xuaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xuXG5jbGFzcyBBcHAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmlkID0gcHJvcHMuYnVzaW5lc3NJZDtcbiAgICB0aGlzLmluaXRpYWxTdGF0ZSA9IHByb3BzLmluaXRpYWxTdGF0ZTtcbiAgICBpZiAocHJvcHMuaW5pdGlhbFN0YXRlICYmIHByb3BzLmluaXRpYWxTdGF0ZS5sb2FkZWQpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgIGJ1c2luZXNzOiBwcm9wcy5pbml0aWFsU3RhdGUuYnVzaW5lc3MsXG4gICAgICAgIHBvc3RhbENvZGU6IHByb3BzLmluaXRpYWxTdGF0ZS5wb3N0YWxfY29kZSxcbiAgICAgICAgbWF0Y2hCaXoxOiBwcm9wcy5pbml0aWFsU3RhdGUuYnVzaW5lc3MxLFxuICAgICAgICBtYXRjaEJpejI6IHByb3BzLmluaXRpYWxTdGF0ZS5idXNpbmVzczIsXG4gICAgICAgIG1hdGNoQml6MzogcHJvcHMuaW5pdGlhbFN0YXRlLmJ1c2luZXNzMyxcbiAgICAgICAgdGlwMTogcHJvcHMuaW5pdGlhbFN0YXRlLmJ1c2luZXNzMSAmJiBwcm9wcy5pbml0aWFsU3RhdGUuYnVzaW5lc3MxLnRpcF90ZXh0LFxuICAgICAgICB0aXAyOiBwcm9wcy5pbml0aWFsU3RhdGUuYnVzaW5lc3MyICYmIHByb3BzLmluaXRpYWxTdGF0ZS5idXNpbmVzczIudGlwX3RleHQsXG4gICAgICAgIHRpcDM6IHByb3BzLmluaXRpYWxTdGF0ZS5idXNpbmVzczMgJiYgcHJvcHMuaW5pdGlhbFN0YXRlLmJ1c2luZXNzMy50aXBfdGV4dCxcbiAgICAgICAgcGhvdG8xOiBwcm9wcy5pbml0aWFsU3RhdGUuYnVzaW5lc3MxICYmIHByb3BzLmluaXRpYWxTdGF0ZS5idXNpbmVzczEuZW5jb2RlZF9waG90byxcbiAgICAgICAgcGhvdG8yOiBwcm9wcy5pbml0aWFsU3RhdGUuYnVzaW5lc3MyICYmIHByb3BzLmluaXRpYWxTdGF0ZS5idXNpbmVzczIuZW5jb2RlZF9waG90byxcbiAgICAgICAgcGhvdG8zOiBwcm9wcy5pbml0aWFsU3RhdGUuYnVzaW5lc3MzICYmIHByb3BzLmluaXRpYWxTdGF0ZS5idXNpbmVzczMuZW5jb2RlZF9waG90byxcbiAgICAgICAgc3RhclJhdGluZzE6IHByb3BzLmluaXRpYWxTdGF0ZS5idXNpbmVzczEgJiYgdGhpcy5nZXRTdGFycyhwcm9wcy5pbml0aWFsU3RhdGUuYnVzaW5lc3MxLnN0YXJzKSxcbiAgICAgICAgc3RhclJhdGluZzI6IHByb3BzLmluaXRpYWxTdGF0ZS5idXNpbmVzczIgJiYgdGhpcy5nZXRTdGFycyhwcm9wcy5pbml0aWFsU3RhdGUuYnVzaW5lc3MyLnN0YXJzKSxcbiAgICAgICAgc3RhclJhdGluZzM6IHByb3BzLmluaXRpYWxTdGF0ZS5idXNpbmVzczMgJiYgdGhpcy5nZXRTdGFycyhwcm9wcy5pbml0aWFsU3RhdGUuYnVzaW5lc3MzLnN0YXJzKVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgYnVzaW5lc3M6IFt7fV0sXG4gICAgICAgIHBvc3RhbENvZGU6IE51bWJlcixcbiAgICAgICAgbWF0Y2hCaXoxOiBbe31dLFxuICAgICAgICBtYXRjaEJpejI6IFt7fV0sXG4gICAgICAgIG1hdGNoQml6MzogW3t9XSxcbiAgICAgICAgdGlwMTogbnVsbCxcbiAgICAgICAgdGlwMjogbnVsbCxcbiAgICAgICAgdGlwMzogbnVsbCxcbiAgICAgICAgcGhvdG8xOiBudWxsLFxuICAgICAgICBwaG90bzI6IG51bGwsXG4gICAgICAgIHBob3RvMzogbnVsbCxcbiAgICAgICAgc3RhclJhdGluZzE6IG51bGwsXG4gICAgICAgIHN0YXJSYXRpbmcyOiBudWxsLFxuICAgICAgICBzdGFyUmF0aW5nMzogbnVsbFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMuaW5pdGlhbFN0YXRlIHx8ICF0aGlzLnByb3BzLmluaXRpYWxTdGF0ZS5sb2FkZWQpIHtcbiAgICAgIGF4aW9zXG4gICAgICAgIC5nZXQoYC9hcGkvc2lkZWJhci9idXNpbmVzcy8ke3RoaXMuaWR9YClcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBidXNpbmVzczogcmVzcG9uc2UuZGF0YSB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHZhciBwb3N0YWxDb2RlID0gdGhpcy5zdGF0ZS5idXNpbmVzc1swXS5wb3N0YWxfY29kZTtcbiAgICAgICAgICB2YXIgYml6SWQgPSB0aGlzLnN0YXRlLmJ1c2luZXNzWzBdLmlkO1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwb3N0YWxDb2RlOiBwb3N0YWxDb2RlIH0pO1xuICAgICAgICAgIHRoaXMuZmV0Y2hTdWdnZXN0ZWRCdXNpbmVzcyhwb3N0YWxDb2RlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coZXJyLCBcInRoaXMgaXMgdGhlIGVycm9yIGluIHRoZSBjb21wb25lbnREaWRNb3VudFwiKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZmV0Y2hTdWdnZXN0ZWRCdXNpbmVzcyhwb3N0YWxDb2RlKSB7XG4gICAgYXhpb3NcbiAgICAgIC5nZXQoXCIvYXBpL3NpZGViYXIvcG9zdGFsQ29kZS9cIiArIHBvc3RhbENvZGUpXG4gICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgIHZhciBiaXoxID0gcmVzcG9uc2UuZGF0YVsxXTtcbiAgICAgICAgdmFyIGJpejIgPSByZXNwb25zZS5kYXRhWzJdO1xuICAgICAgICB2YXIgYml6MyA9IHJlc3BvbnNlLmRhdGFbM107XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBcbiAgICAgICAgICBtYXRjaEJpejE6IGJpejEsIFxuICAgICAgICAgIG1hdGNoQml6MjogYml6MiwgXG4gICAgICAgICAgbWF0Y2hCaXozOiBiaXozLFxuICAgICAgICAgIHRpcDE6IGJpejEgJiYgYml6MS50aXBfdGV4dCxcbiAgICAgICAgICB0aXAyOiBiaXoyICYmIGJpejIudGlwX3RleHQsXG4gICAgICAgICAgdGlwMzogYml6MyAmJiBiaXozLnRpcF90ZXh0LFxuICAgICAgICAgIHBob3RvMTogYml6MSAmJiBiaXoxLmVuY29kZWRfcGhvdG8sXG4gICAgICAgICAgcGhvdG8yOiBiaXoyICYmIGJpejIuZW5jb2RlZF9waG90byxcbiAgICAgICAgICBwaG90bzM6IGJpejMgJiYgYml6My5lbmNvZGVkX3Bob3RvLFxuICAgICAgICAgIHN0YXJSYXRpbmcxOiBiaXoxICYmIHRoaXMuZ2V0U3RhcnMoYml6MS5zdGFycyksXG4gICAgICAgICAgc3RhclJhdGluZzI6IGJpejIgJiYgdGhpcy5nZXRTdGFycyhiaXoyLnN0YXJzKSxcbiAgICAgICAgICBzdGFyUmF0aW5nMzogYml6MyAmJiB0aGlzLmdldFN0YXJzKGJpejMuc3RhcnMpXG4gICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyLCBcImVycm9yIGZldGNoIHBvc3RhbENvZGUgYXhpb3NcIik7XG4gICAgICB9KTtcbiAgfVxuXG4gIGdldFN0YXJzKHN0YXJzKSB7XG4gICAgaWYgKHN0YXJzID09PSAxKSB7XG4gICAgICByZXR1cm4gJ2h0dHBzOi8vaS5pbWd1ci5jb20vam9SVjYwNS5wbmcnO1xuICAgIH0gZWxzZSBpZiAoc3RhcnMgPT09IDEuNSkge1xuICAgICAgcmV0dXJuICdodHRwczovL2kuaW1ndXIuY29tL2ZxSFNteXoucG5nJztcbiAgICB9IGVsc2UgaWYgKHN0YXJzID09PSAyKSB7XG4gICAgICByZXR1cm4gJ2h0dHBzOi8vaS5pbWd1ci5jb20vR3NCaDlPNS5wbmcnO1xuICAgIH0gZWxzZSBpZiAoc3RhcnMgPT09IDIuNSkge1xuICAgICAgcmV0dXJuICdodHRwczovL2kuaW1ndXIuY29tL0hIazRjYTcucG5nJztcbiAgICB9IGVsc2UgaWYgKHN0YXJzID09PSAzKSB7XG4gICAgICByZXR1cm4gJ2h0dHBzOi8vaS5pbWd1ci5jb20vZVhhMnQxWC5wbmcnO1xuICAgIH0gZWxzZSBpZiAoc3RhcnMgPT09IDMuNSkge1xuICAgICAgcmV0dXJuICdodHRwczovL2kuaW1ndXIuY29tL25EY0g5YXUucG5nJztcbiAgICB9IGVsc2UgaWYgKHN0YXJzID09PSA0KSB7XG4gICAgICByZXR1cm4gJ2h0dHBzOi8vaS5pbWd1ci5jb20vdjJFcDhrUS5wbmcnO1xuICAgIH0gZWxzZSBpZiAoc3RhcnMgPT09IDQuNSkge1xuICAgICAgcmV0dXJuICdodHRwczovL2kuaW1ndXIuY29tL2UyYjBOTjQucG5nJztcbiAgICB9IGVsc2UgaWYgKHN0YXJzID09PSA1KSB7XG4gICAgICByZXR1cm4gJ2h0dHBzOi8vaS5pbWd1ci5jb20vMzI3Rmg2eS5wbmcnO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyaWdodHNiX3BhZ2VcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyaWdodHNiX3JlbGF0ZWRCdXNpbmVzc2VzXCI+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInJpZ2h0c2Jfc3ViaGVhZGVyXCI+UGVvcGxlIEFsc28gVmlld2VkPC9oMj5cbiAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwicmlnaHRzYl9saXN0XCI+XG4gICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwicmlnaHRzYl9idXNpbmVzcy1saXN0XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmlnaHRzYl9tZWRpYS1ibG9ja1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmlnaHRzYl9tZWRpYS1hdmF0YXJcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmlnaHRzYl9pbWFnZV9ib3hcIj5cbiAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJpZ2h0c2JfaW1hZ2VfYml6XCJcbiAgICAgICAgICAgICAgICAgICAgICBzcmM9e2BkYXRhOmltYWdlL2pwZWc7YmFzZTY0LCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5waG90bzFcbiAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmlnaHRzYl9tZWRpYS1zdG9yeVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyaWdodHNiX21lZGlhLXRpdGxlXCI+XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLm1hdGNoQml6MSAmJiB0aGlzLnN0YXRlLm1hdGNoQml6MS5uYW1lfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJpZ2h0c2JfYml6cmF0aW5nXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmlnaHRzYl9zdGFyLXJhdGluZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJpZ2h0c2Jfc3RhcnNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXt0aGlzLnN0YXRlLnN0YXJSYXRpbmcxfVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyaWdodHNiX3Jldmlldy1jb3VudFwiPlxuICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLm1hdGNoQml6MSA/IHRoaXMuc3RhdGUubWF0Y2hCaXoxLnJldmlld19jb3VudCA6IDB9IHJldmlld3NcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8cSBjbGFzc05hbWU9XCJyaWdodHNiX3RpcHNcIj57dGhpcy5zdGF0ZS50aXAxfTwvcT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cInJpZ2h0c2JfYnVzaW5lc3MtbGlzdFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJpZ2h0c2JfbWVkaWEtYmxvY2tcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJpZ2h0c2JfbWVkaWEtYXZhdGFyXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJpZ2h0c2JfaW1hZ2VfYm94XCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyaWdodHNiX2ltYWdlX2JpelwiXG4gICAgICAgICAgICAgICAgICAgICAgc3JjPXtgZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCwgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUucGhvdG8yXG4gICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJpZ2h0c2JfbWVkaWEtc3RvcnlcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmlnaHRzYl9tZWRpYS10aXRsZVwiPlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5tYXRjaEJpejIgJiYgdGhpcy5zdGF0ZS5tYXRjaEJpejIubmFtZX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyaWdodHNiX2JpenJhdGluZ1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJpZ2h0c2Jfc3Rhci1yYXRpbmdcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyaWdodHNiX3N0YXJzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17dGhpcy5zdGF0ZS5zdGFyUmF0aW5nMn1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicmlnaHRzYl9yZXZpZXctY291bnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5tYXRjaEJpejIgPyB0aGlzLnN0YXRlLm1hdGNoQml6Mi5yZXZpZXdfY291bnQgOiAwfSByZXZpZXdzXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPHEgY2xhc3NOYW1lPVwicmlnaHRzYl90aXBzXCI+e3RoaXMuc3RhdGUudGlwMn08L3E+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJyaWdodHNiX2J1c2luZXNzLWxpc3RcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyaWdodHNiX21lZGlhLWJsb2NrXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyaWdodHNiX21lZGlhLWF2YXRhclwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyaWdodHNiX2ltYWdlX2JveFwiPlxuICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicmlnaHRzYl9pbWFnZV9iaXpcIlxuICAgICAgICAgICAgICAgICAgICAgIHNyYz17YGRhdGE6aW1hZ2UvanBlZztiYXNlNjQsICR7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnBob3RvM1xuICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyaWdodHNiX21lZGlhLXN0b3J5XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJpZ2h0c2JfbWVkaWEtdGl0bGVcIj5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUubWF0Y2hCaXozICYmIHRoaXMuc3RhdGUubWF0Y2hCaXozLm5hbWV9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmlnaHRzYl9iaXpyYXRpbmdcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyaWdodHNiX3N0YXItcmF0aW5nXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicmlnaHRzYl9zdGFyc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICBzcmM9e3RoaXMuc3RhdGUuc3RhclJhdGluZzN9XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJpZ2h0c2JfcmV2aWV3LWNvdW50XCI+XG4gICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUubWF0Y2hCaXozID8gdGhpcy5zdGF0ZS5tYXRjaEJpejMucmV2aWV3X2NvdW50IDogMH0gcmV2aWV3c1xuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxxIGNsYXNzTmFtZT1cInJpZ2h0c2JfdGlwc1wiPnt0aGlzLnN0YXRlLnRpcDN9PC9xPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJpZ2h0c2Jfb3RoZXItcGxhY2VzLW5lYXJieVwiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInJpZ2h0c2Jfc3ViaGVhZGVyXCI+T3RoZXIgUGxhY2VzIE5lYXJieTwvaDM+XG4gICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwicmlnaHRzYl9saXN0XCI+XG4gICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJyaWdodHNiX290aGVyLWxpc3QtaXRlbVwiPlxuICAgICAgICAgICAgICAgIDxhIGNsYXNzTmFtZT1cInJpZ2h0c2Jfb3RoZXItbGlzdC1pdGVtLWFycmFuZ2VcIj5cbiAgICAgICAgICAgICAgICAgIEZpbmQgbW9yZSBQbGFjZXMgTmVhciB7dGhpcy5zdGF0ZS5idXNpbmVzc1swXS5uYW1lfVxuICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cInJpZ2h0c2Jfb3RoZXItbGlzdC1pdGVtXCI+XG4gICAgICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwicmlnaHRzYl9vdGhlci1saXN0LWl0ZW0tYXJyYW5nZVwiPlxuICAgICAgICAgICAgICAgICAgRmluZCBtb3JlIEx1bmNoIE5lYXIge3RoaXMuc3RhdGUuYnVzaW5lc3NbMF0ubmFtZX1cbiAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJyaWdodHNiX290aGVyLWxpc3QtaXRlbVwiPlxuICAgICAgICAgICAgICAgIDxhIGNsYXNzTmFtZT1cInJpZ2h0c2Jfb3RoZXItbGlzdC1pdGVtLWFycmFuZ2VcIj5cbiAgICAgICAgICAgICAgICAgIEZpbmQgbW9yZSBEaW5uZXIgTmVhciB7dGhpcy5zdGF0ZS5idXNpbmVzc1swXS5uYW1lfVxuICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyaWdodHNiX2Jyb3dzZS1uZWFyYnlcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJyaWdodHNiX3N1YmhlYWRlclwiPkJyb3dzZSBOZWFyYnk8L2gzPlxuICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInJpZ2h0c2JfbGlzdFwiPlxuICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgPGE+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyaWdodHNiX3N0YXRpYy1pY29uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyaWdodHNiX2ljb25cIlxuICAgICAgICAgICAgICAgICAgICAgIHNyYz17XCJodHRwczovL2kuaW1ndXIuY29tL1lWVHRjS1kucG5nLzEyMC5qcGdcIn1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAge1wiICBcIn1cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJpZ2h0c2JfYnJvd3NlLWxpc3RcIj5SZXN0YXVyYW50czwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICB7XCIgXCJ9XG4gICAgICAgICAgICAgICAgPGE+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyaWdodHNiX3N0YXRpYy1pY29uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyaWdodHNiX2ljb25cIlxuICAgICAgICAgICAgICAgICAgICAgIHNyYz17XCJodHRwczovL2kuaW1ndXIuY29tL2YzUmR3T1AucG5nLzEyMC5qcGdcIn1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAge1wiICBcIn1cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJpZ2h0c2JfYnJvd3NlLWxpc3RcIj5OaWdodGxpZmU8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgPGE+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyaWdodHNiX3N0YXRpYy1pY29uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyaWdodHNiX2ljb25cIlxuICAgICAgICAgICAgICAgICAgICAgIHNyYz17XCJodHRwczovL2kuaW1ndXIuY29tLzJzWXlqcWouanBnLzEyMC5qcGdcIn1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAge1wiICBcIn1cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJpZ2h0c2JfYnJvd3NlLWxpc3RcIj5TaG9wcGluZzwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICA8YT5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJpZ2h0c2Jfc3RhdGljLWljb25cIj5cbiAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJpZ2h0c2JfaWNvblwiXG4gICAgICAgICAgICAgICAgICAgICAgc3JjPXtcImh0dHBzOi8vaS5pbWd1ci5jb20vYUFuckZrMi5wbmcvMTIwLmpwZ1wifVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICB7XCIgIFwifVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicmlnaHRzYl9icm93c2UtbGlzdFwiPlNob3cgQWxsPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJyaWdodHNiX3N1YmhlYWRlclwiPlxuICAgICAgICAgICAgICBEaW5pbmcgaW4ge3RoaXMuc3RhdGUuYnVzaW5lc3NbMF0uY2l0eX1cbiAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwicmlnaHRzYl9saXN0XCI+XG4gICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICA8YT5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJpZ2h0c2Jfc3RhdGljLWljb25cIj5cbiAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJpZ2h0c2JfaWNvblwiXG4gICAgICAgICAgICAgICAgICAgICAgc3JjPXtcImh0dHBzOi8vaS5pbWd1ci5jb20vckFva0NBYy5qcGcvMTIwLmpwZ1wifVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICB7XCIgIFwifVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicmlnaHRzYl9kaW5pbmctbGlzdFwiPlxuICAgICAgICAgICAgICAgICAgICBTZWFyY2ggZm9yIFJlc2VydmF0aW9uc1xuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgIDxhPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicmlnaHRzYl9zdGF0aWMtaWNvblwiPlxuICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicmlnaHRzYl9pY29uXCJcbiAgICAgICAgICAgICAgICAgICAgICBzcmM9e1wiaHR0cHM6Ly9pLmltZ3VyLmNvbS9nYzJFc0RYLnBuZy8xMjAuanBnXCJ9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIHtcIiAgXCJ9XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJpZ2h0c2JfZGluaW5nLWxpc3RcIj5cbiAgICAgICAgICAgICAgICAgIEJvb2sgYSB0YWJsZSBpbiB7dGhpcy5zdGF0ZS5idXNpbmVzc1swXS5jaXR5fVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInJpZ2h0c2Jfc3ViaGVhZGVyXCI+XG4gICAgICAgICAgICBCZXN0IG9mIHt0aGlzLnN0YXRlLmJ1c2luZXNzWzBdLmNpdHl9XG4gICAgICAgICAgPC9oMj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJyaWdodHNiX2Jlc3RvZi1saXN0XCI+XG4gICAgICAgICAgICBUaGluZ3MgdG8gZG8gaW4ge3RoaXMuc3RhdGUuYnVzaW5lc3NbMF0uY2l0eX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInJpZ2h0c2Jfc3ViaGVhZGVyXCI+XG4gICAgICAgICAgICBQZW9wbGUgZm91bmQge3RoaXMuc3RhdGUuYnVzaW5lc3NbMF0ubmFtZX0gYnkgc2VhcmNoaW5nIGZvci4uLlxuICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwicmlnaHRzYl9wZW9wbGVmb3VuZC1saXN0XCI+XG4gICAgICAgICAgICBGb29kIHt0aGlzLnN0YXRlLmJ1c2luZXNzWzBdLmNpdHl9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJyaWdodHNiX3N1YmhlYWRlclwiPk5lYXIgTWU8L2gyPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInJpZ2h0c2JfbmVhcm1lLWxpc3RcIj5EaW5uZXI8L3A+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwicmlnaHRzYl9uZWFybWUtbGlzdFwiPkx1bmNoPC9wPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInJpZ2h0c2JfbmVhcm1lLWxpc3RcIj5CcmVha2Zhc3Q8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBcHA7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gY2xpZW50L3NyYy9jb21wb25lbnRzL0FwcC5qc3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7Ozs7Ozs7QUFtSEE7Ozs7QUFpR0E7Ozs7QUFtQkE7O0FBQ0E7O0FBQ0E7O0FBR0E7O0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFJQTtBQUVBOztBQUVBO0FBQ0E7QUFFQTtBQUVBOztBQUtBOztBQUVBO0FBQ0E7QUFFQTtBQUVBOztBQUtBOztBQUVBO0FBQ0E7QUFFQTtBQUVBOzs7O0FBWUE7O0FBRUE7QUFDQTtBQUVBO0FBRUE7Ozs7QUFPQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTs7QUFvQkE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7OztBQTlVQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWRBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZEE7QUFnQkE7QUF0Q0E7QUF1Q0E7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFaQTtBQWNBO0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFtT0E7Ozs7QUFsVkE7QUFDQTtBQW9WQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///12\n");

/***/ }),
/* 13 */
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"react-dom\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWFjdC1kb21cIj81ZTk5Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlYWN0LWRvbVwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcInJlYWN0LWRvbVwiXG4vLyBtb2R1bGUgaWQgPSAxM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///13\n");

/***/ }),
/* 14 */
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"axios\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJheGlvc1wiPzI1MzkiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYXhpb3NcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJheGlvc1wiXG4vLyBtb2R1bGUgaWQgPSAxNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///14\n");

/***/ }),
/* 15 */
/*!************************!*\
  !*** external "redis" ***!
  \************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"redis\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWRpc1wiP2JjZWIiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVkaXNcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJyZWRpc1wiXG4vLyBtb2R1bGUgaWQgPSAxNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///15\n");

/***/ }),
/* 16 */
/*!********************************!*\
  !*** external "promise-mysql" ***!
  \********************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"promise-mysql\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwcm9taXNlLW15c3FsXCI/NzE4NiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwcm9taXNlLW15c3FsXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwicHJvbWlzZS1teXNxbFwiXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///16\n");

/***/ }),
/* 17 */
/*!***********************************!*\
  !*** external "cassandra-driver" ***!
  \***********************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"cassandra-driver\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJjYXNzYW5kcmEtZHJpdmVyXCI/NmZkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjYXNzYW5kcmEtZHJpdmVyXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiY2Fzc2FuZHJhLWRyaXZlclwiXG4vLyBtb2R1bGUgaWQgPSAxN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///17\n");

/***/ }),
/* 18 */
/*!************************!*\
  !*** ./server/Html.js ***!
  \************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * Html\n * This Html.js file acts as a template that we insert all our generated\n * application strings into before sending it to the client.\n */\nvar Html = function Html(_ref) {\n  var body = _ref.body,\n      initialState = _ref.initialState;\n  return \"\\n  <!DOCTYPE html>\\n  <html>\\n    <head>\\n      <script>window.__SIDEBAR_INITIAL_STATE__ = \" + initialState + \"</script>\\n      <meta charset=\\\"UTF-8\\\">\\n      <title>BRSidebar</title>\\n    </head>\\n    <body>\\n      <div id=\\\"right_bottom_sidebar\\\">\" + body + \"</div>\\n      <script src=\\\"/bundle.js\\\" type=\\\"text/javascript\\\"></script>\\n    </body>\\n  </html>\\n\";\n};\n\nmodule.exports = Html;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc2VydmVyL0h0bWwuanM/ZGEzYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEh0bWxcbiAqIFRoaXMgSHRtbC5qcyBmaWxlIGFjdHMgYXMgYSB0ZW1wbGF0ZSB0aGF0IHdlIGluc2VydCBhbGwgb3VyIGdlbmVyYXRlZFxuICogYXBwbGljYXRpb24gc3RyaW5ncyBpbnRvIGJlZm9yZSBzZW5kaW5nIGl0IHRvIHRoZSBjbGllbnQuXG4gKi9cbmNvbnN0IEh0bWwgPSAoeyBib2R5LCBpbml0aWFsU3RhdGUgfSkgPT4gYFxuICA8IURPQ1RZUEUgaHRtbD5cbiAgPGh0bWw+XG4gICAgPGhlYWQ+XG4gICAgICA8c2NyaXB0PndpbmRvdy5fX1NJREVCQVJfSU5JVElBTF9TVEFURV9fID0gJHtpbml0aWFsU3RhdGV9PC9zY3JpcHQ+XG4gICAgICA8bWV0YSBjaGFyc2V0PVwiVVRGLThcIj5cbiAgICAgIDx0aXRsZT5CUlNpZGViYXI8L3RpdGxlPlxuICAgIDwvaGVhZD5cbiAgICA8Ym9keT5cbiAgICAgIDxkaXYgaWQ9XCJyaWdodF9ib3R0b21fc2lkZWJhclwiPiR7Ym9keX08L2Rpdj5cbiAgICAgIDxzY3JpcHQgc3JjPVwiL2J1bmRsZS5qc1wiIHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgICA8L2JvZHk+XG4gIDwvaHRtbD5cbmA7XG5cbm1vZHVsZS5leHBvcnRzID0gSHRtbDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzZXJ2ZXIvSHRtbC5qcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7Ozs7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFjQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///18\n");

/***/ }),
/* 19 */
/*!**********************************!*\
  !*** ./server/sidebar-router.js ***!
  \**********************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar express = __webpack_require__(/*! express */ 0);\nvar HtmlApi = __webpack_require__(/*! ./HtmlApi.js */ 20);\nvar ssr = __webpack_require__(/*! ./ssr.js */ 3);\nvar router = express.Router();\n\nvar query = __webpack_require__(/*! ./mysqlPool.js */ 6);\nvar databaseEngine = process.env.DATABASE_ENGINE || 'mysql';\nif (databaseEngine === 'cassandra') {\n  query = __webpack_require__(/*! ./cassandraPool.js */ 7);\n}\n\nrouter.route('/ssr/:id').get(function (req, res, next) {\n  ssr(req, res, next, 'apiSSR_' + req.params.id.toString(), req.params.id, HtmlApi);\n}).options(function (req, res) {\n  res.sendStatus(200);\n});\n\nrouter.route('/business/:id').get(function (req, res, next) {\n  query('SELECT * FROM business WHERE id =' + req.params.id, 'apiBusiness_' + req.params.id.toString()).then(function (rows) {\n    res.send(rows);\n  }).catch(function (err) {\n    return console.log('Error ', err);\n  });\n}).options(function (req, res) {\n  res.sendStatus(200);\n});\n\nrouter.route('/postalCode/:code').get(function (req, res, next) {\n  // let q = `SELECT * FROM business WHERE postal_code='${postalCode}' AND review_count > 200 LIMIT 4`;\n  query('SELECT * FROM business_reviews200 WHERE postal_code=\\'' + req.params.code + '\\' LIMIT 4', 'apiPostalCode_' + req.params.code.toString(), req, res, next).then(function (rows) {\n    res.send(rows);\n  }).catch(function (err) {\n    return console.log('Error ', err);\n  });\n}).options(function (req, res) {\n  res.sendStatus(200);\n});\n\nrouter.route('/businessTips/:id').get(function (req, res, next) {\n  query('SELECT * FROM tip WHERE business_id=' + req.params.id + ' LIMIT 1', 'apiTips_' + req.params.id.toString(), req, res, next).then(function (rows) {\n    res.send(rows);\n  }).catch(function (err) {\n    return console.log('Error ', err);\n  });\n}).options(function (req, res) {\n  res.sendStatus(200);\n});\n\nrouter.route('/photos/:id').get(function (req, res, next) {\n  query('SELECT photo_id as id, business_id, caption, label FROM photo WHERE business_id=' + req.params.id + ' LIMIT 1', 'apiPhotos_' + req.params.id.toString(), req, res, next).then(function (rows) {\n    res.send(rows);\n  }).catch(function (err) {\n    return console.log('Error ', err);\n  });\n}).options(function (req, res) {\n  res.sendStatus(200);\n});\n\nmodule.exports = router;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc2VydmVyL3NpZGViYXItcm91dGVyLmpzP2Y1MjIiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbmNvbnN0IEh0bWxBcGkgPSByZXF1aXJlKCcuL0h0bWxBcGkuanMnKTtcbmNvbnN0IHNzciA9IHJlcXVpcmUoJy4vc3NyLmpzJyk7XG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5sZXQgcXVlcnkgPSByZXF1aXJlKCcuL215c3FsUG9vbC5qcycpO1xuY29uc3QgZGF0YWJhc2VFbmdpbmUgPSBwcm9jZXNzLmVudi5EQVRBQkFTRV9FTkdJTkUgfHwgJ215c3FsJztcbmlmIChkYXRhYmFzZUVuZ2luZSA9PT0gJ2Nhc3NhbmRyYScpIHtcbiAgcXVlcnkgPSByZXF1aXJlKCcuL2Nhc3NhbmRyYVBvb2wuanMnKTtcbn1cblxucm91dGVyXG4gIC5yb3V0ZSgnL3Nzci86aWQnKVxuICAuZ2V0KChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIHNzcihyZXEsIHJlcywgbmV4dCwgJ2FwaVNTUl8nICsgcmVxLnBhcmFtcy5pZC50b1N0cmluZygpLCByZXEucGFyYW1zLmlkLCBIdG1sQXBpKTsgXG4gIH0pXG4gIC5vcHRpb25zKChyZXEsIHJlcykgPT4ge1xuICAgIHJlcy5zZW5kU3RhdHVzKDIwMCk7XG4gIH0pO1xuXG5yb3V0ZXJcbi5yb3V0ZSgnL2J1c2luZXNzLzppZCcpXG4uZ2V0KChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBxdWVyeShgU0VMRUNUICogRlJPTSBidXNpbmVzcyBXSEVSRSBpZCA9JHtyZXEucGFyYW1zLmlkfWAsICdhcGlCdXNpbmVzc18nICsgcmVxLnBhcmFtcy5pZC50b1N0cmluZygpKVxuICAudGhlbihyb3dzID0+IHtcbiAgICByZXMuc2VuZChyb3dzKTtcbiAgfSlcbiAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZygnRXJyb3IgJywgZXJyKSk7XG59KVxuLm9wdGlvbnMoKHJlcSwgcmVzKSA9PiB7XG4gIHJlcy5zZW5kU3RhdHVzKDIwMCk7XG59KTtcblxucm91dGVyXG4gIC5yb3V0ZSgnL3Bvc3RhbENvZGUvOmNvZGUnKVxuICAuZ2V0KChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIC8vIGxldCBxID0gYFNFTEVDVCAqIEZST00gYnVzaW5lc3MgV0hFUkUgcG9zdGFsX2NvZGU9JyR7cG9zdGFsQ29kZX0nIEFORCByZXZpZXdfY291bnQgPiAyMDAgTElNSVQgNGA7XG4gICAgcXVlcnkoYFNFTEVDVCAqIEZST00gYnVzaW5lc3NfcmV2aWV3czIwMCBXSEVSRSBwb3N0YWxfY29kZT0nJHtyZXEucGFyYW1zLmNvZGV9JyBMSU1JVCA0YCwgJ2FwaVBvc3RhbENvZGVfJyArIHJlcS5wYXJhbXMuY29kZS50b1N0cmluZygpLCByZXEsIHJlcywgbmV4dClcbiAgICAudGhlbihyb3dzID0+IHtcbiAgICAgIHJlcy5zZW5kKHJvd3MpO1xuICAgIH0pXG4gICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZygnRXJyb3IgJywgZXJyKSk7XG4gIH0pXG4gIC5vcHRpb25zKChyZXEsIHJlcykgPT4ge1xuICAgIHJlcy5zZW5kU3RhdHVzKDIwMCk7XG4gIH0pOyBcblxucm91dGVyXG4gIC5yb3V0ZSgnL2J1c2luZXNzVGlwcy86aWQnKVxuICAuZ2V0KChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIHF1ZXJ5KGBTRUxFQ1QgKiBGUk9NIHRpcCBXSEVSRSBidXNpbmVzc19pZD0ke3JlcS5wYXJhbXMuaWR9IExJTUlUIDFgLCAnYXBpVGlwc18nICsgcmVxLnBhcmFtcy5pZC50b1N0cmluZygpLCByZXEsIHJlcywgbmV4dClcbiAgICAudGhlbihyb3dzID0+IHtcbiAgICAgIHJlcy5zZW5kKHJvd3MpO1xuICAgIH0pXG4gICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZygnRXJyb3IgJywgZXJyKSk7XG4gIH0pXG4gIC5vcHRpb25zKChyZXEsIHJlcykgPT4ge1xuICAgIHJlcy5zZW5kU3RhdHVzKDIwMCk7XG4gIH0pOyBcblxucm91dGVyXG4gIC5yb3V0ZSgnL3Bob3Rvcy86aWQnKVxuICAuZ2V0KChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIHF1ZXJ5KGBTRUxFQ1QgcGhvdG9faWQgYXMgaWQsIGJ1c2luZXNzX2lkLCBjYXB0aW9uLCBsYWJlbCBGUk9NIHBob3RvIFdIRVJFIGJ1c2luZXNzX2lkPSR7cmVxLnBhcmFtcy5pZH0gTElNSVQgMWAsICdhcGlQaG90b3NfJyArIHJlcS5wYXJhbXMuaWQudG9TdHJpbmcoKSwgcmVxLCByZXMsIG5leHQpXG4gICAgLnRoZW4ocm93cyA9PiB7XG4gICAgICByZXMuc2VuZChyb3dzKTtcbiAgICB9KVxuICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coJ0Vycm9yICcsIGVycikpO1xuICB9KVxuICAub3B0aW9ucygocmVxLCByZXMpID0+IHtcbiAgICByZXMuc2VuZFN0YXR1cygyMDApO1xuICB9KTsgXG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzZXJ2ZXIvc2lkZWJhci1yb3V0ZXIuanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///19\n");

/***/ }),
/* 20 */
/*!***************************!*\
  !*** ./server/HtmlApi.js ***!
  \***************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * Html\n * This Html.js file acts as a template that we insert all our generated\n * application strings into before sending it to the client.\n */\nvar HtmlApi = function HtmlApi(_ref) {\n  var body = _ref.body,\n      initialState = _ref.initialState;\n  return \"\\n      <script>window.__SIDEBAR_INITIAL_STATE__ = \" + initialState + \"</script>\\n      <div id=\\\"right_bottom_sidebar\\\">\" + body + \"</div>\\n\";\n};\n\nmodule.exports = HtmlApi;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc2VydmVyL0h0bWxBcGkuanM/MTY2NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEh0bWxcbiAqIFRoaXMgSHRtbC5qcyBmaWxlIGFjdHMgYXMgYSB0ZW1wbGF0ZSB0aGF0IHdlIGluc2VydCBhbGwgb3VyIGdlbmVyYXRlZFxuICogYXBwbGljYXRpb24gc3RyaW5ncyBpbnRvIGJlZm9yZSBzZW5kaW5nIGl0IHRvIHRoZSBjbGllbnQuXG4gKi9cbmNvbnN0IEh0bWxBcGkgPSAoeyBib2R5LCBpbml0aWFsU3RhdGUgfSkgPT4gYFxuICAgICAgPHNjcmlwdD53aW5kb3cuX19TSURFQkFSX0lOSVRJQUxfU1RBVEVfXyA9ICR7aW5pdGlhbFN0YXRlfTwvc2NyaXB0PlxuICAgICAgPGRpdiBpZD1cInJpZ2h0X2JvdHRvbV9zaWRlYmFyXCI+JHtib2R5fTwvZGl2PlxuYDtcblxubW9kdWxlLmV4cG9ydHMgPSBIdG1sQXBpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNlcnZlci9IdG1sQXBpLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7OztBQUtBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUlBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///20\n");

/***/ })
/******/ ]);